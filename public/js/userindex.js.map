{"version":3,"sources":["userindex.js"],"names":["filterBtn","document","querySelector","sectionFilter","filterForm","userContainer","users","querySelectorAll","userDetails","userIndex","container","console","log","displayUsers","data","innerHTML","forEach","match","user","html","picture","firstname","insertAdjacentHTML","displaySingleUser","details","lastname","age","_id","closePopUp","classList","add","filterUsers","e","preventDefault","goals","FormData","target","get","axios","post","then","response","remove","catch","error","addEventListener","id","dataset"],"mappings":"AACA,MAAMA,UAAYC,SAASC,cAAc,kBACnCC,cAAgBF,SAASC,cAAc,qBACvCE,WAAaH,SAASC,cAAc,gBACpCG,cAAgBJ,SAASC,cAAc,mBACvCI,MAAQL,SAASM,iBAAiB,SAClCC,YAAcP,SAASC,cAAc,iBACrCO,UAAYR,SAASC,cAAc,UACnCQ,UAAYT,SAASC,cAAc,cAEzCS,QAAQC,IAAIF,WAEZ,MAAMG,aAAgBC,IAElBT,cAAcU,UAAY,GAC1BD,EAAKE,SAAQC,IACT,MAAMC,EAAOD,EAAMC,KACnB,IAAIC,EAAO,6GAE6BD,EAAKE,mEAE7BF,EAAKG,wCAGrBhB,cAAciB,mBAAmB,YAAaH,OAKhDI,kBAAqBT,IACvBH,QAAQC,IAAIE,GAEZ,IAAIU,EACJ,uDACcV,EAAKO,mCACLP,EAAKW,kCACLX,EAAKY,wHAIiCZ,EAAKa,qGAIzDlB,UAAUa,mBAAmB,YAAaE,GAC1CI,WAAWC,UAAUC,IAAI,kBAGvBC,YAAeC,IACjBA,EAAEC,iBAEF,MACMC,EADO,IAAIC,SAASH,EAAEI,QACTC,IAAI,SAEvB1B,QAAQC,IAAIsB,GAEZI,MAAMC,KAAK,gBAAiB,CAACL,MAAMA,IAClCM,MAAK,SAAUC,GA7CC,IAAC3B,EA+CdH,QAAQC,IAAI6B,EAAS3B,MA/CPA,EAgDD2B,EAAS3B,KA9C1BT,cAAcU,UAAY,GAC1BD,EAAKE,SAAQC,IACT,MAAMC,EAAOD,EAAMC,KACnB,IAAIC,EAAO,6GAE6BD,EAAKE,mEAE7BF,EAAKG,wCAGrBhB,cAAciB,mBAAmB,YAAaH,MAsC9ChB,cAAc0B,UAAUa,OAAO,gBAElCC,OAAM,SAAUC,GAEbjC,QAAQC,IAAIgC,MAEfJ,MAAK,gBAMVxC,UAAU6C,iBAAiB,SAAS,KAChC1C,cAAc0B,UAAUC,IAAI,gBAGhC1B,WAAWyC,iBAAiB,SAAUd,aAEtCzB,MAAMU,SAAQE,IACVA,EAAK2B,iBAAiB,SAAS,KAE3B,MAAMC,EAAK5B,EAAK6B,QAAQD,GACxBR,MAAMC,KAAK,iBAAkB,CAACO,GAAGA,IAChCN,MAAK,SAAUC,GAEZlB,kBAAkBkB,EAAS3B,SAE9B6B,OAAM,SAAUC,GAEbjC,QAAQC,IAAIgC,YAKxBlC,UAAUmC,iBAAiB,SAAS,KAEhClC,QAAQC,IAAIJ,aACZA,YAAYqB,UAAUC,IAAI,aAC1BnB,QAAQC,IAAI","file":"userindex.js","sourcesContent":["\nconst filterBtn = document.querySelector('.filter-button');\nconst sectionFilter = document.querySelector('.filter-container');\nconst filterForm = document.querySelector('.filter-form');\nconst userContainer = document.querySelector('.user-container');\nconst users = document.querySelectorAll('.user');\nconst userDetails = document.querySelector('.user-details');\nconst userIndex = document.querySelector('.index');\nconst container = document.querySelector('.container');\n\nconsole.log(container);\n\nconst displayUsers = (data) =>{\n\n    userContainer.innerHTML = \"\";\n    data.forEach(match => {\n        const user = match.user;\n        let html = `<div class=\"user\">\n                <div class=\"user-img\">\n                    <img src=\"/public/uploads/${user.picture}\" alt=\"\">\n                </div>\n                <span>${user.firstname}</span>\n             </div>`\n\n        userContainer.insertAdjacentHTML('beforeend', html);\n\n    });\n}  \n\nconst displaySingleUser = (data) => {\n    console.log(data);\n\n    let details = \n    `    <section class=\"user-details\">\n            <h2>${data.firstname}</h2>\n            <h2>${data.lastname}</h2>\n            <h2>${data.age}</h2>\n\n            <form action=\"/like\" method=\"post\">\n\n                <input type=\"hidden\" name=\"id\" value=\"${data._id}\">\n                <input type=\"submit\" value=\"like\">\n            </form>\n        </section>`\n    userIndex.insertAdjacentHTML('beforeend', details);\n    closePopUp.classList.add('button-appear');\n}\n\nconst filterUsers = (e) =>{\n    e.preventDefault();\n\n    const form = new FormData(e.target);\n    const goals = form.get(\"goals\");\n\n    console.log(goals);\n\n    axios.post('/users/filter', {goals:goals})\n    .then(function (response) {\n        // handle success\n        console.log(response.data);\n        displayUsers(response.data);\n\n        sectionFilter.classList.remove('filter-up');\n    })\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n    .then(function () {\n        // always executed\n    });\n}\n\n\nfilterBtn.addEventListener('click', () => {\n    sectionFilter.classList.add('filter-up')\n})\n\nfilterForm.addEventListener('submit', filterUsers);\n\nusers.forEach(user => {\n    user.addEventListener('click', () =>{\n\n        const id = user.dataset.id;\n        axios.post('/users/getuser', {id:id})\n        .then(function (response) {\n            // handle success\n            displaySingleUser(response.data);\n        })\n        .catch(function (error) {\n            // handle error\n            console.log(error);\n        })\n    })\n})\n\ncontainer.addEventListener('click', () => {\n\n    console.log(userDetails);\n    userDetails.classList.add('disappear');\n    console.log('nu moet iets geks gebeuren');\n})"]}